const POSTS_API_URL = 'https://jsonplaceholder.typicode.com/posts';

const fetchPosts = (onSuccess, onError) => {
  const client = Ti.Network.createHTTPClient({
    onload: function () {
      try {
        const posts = JSON.parse(this.responseText);
        onSuccess(posts);
      } catch (error) {
        onError(error);
      }
    },
    onerror: onError,
    timeout: 5000
  });

  client.open('GET', POSTS_API_URL);
  client.send();
};

module.exports = { fetchPosts };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsYUFBYSxHQUFHLDRDQUE0Qzs7QUFFbEUsTUFBTUMsVUFBVSxHQUFHQSxDQUFDQyxTQUFTLEVBQUVDLE9BQU8sS0FBSztFQUN2QyxNQUFNQyxNQUFNLEdBQUdDLEVBQUUsQ0FBQ0MsT0FBTyxDQUFDQyxnQkFBZ0IsQ0FBQztJQUN2Q0MsTUFBTSxFQUFFLFNBQUFBLENBQUEsRUFBWTtNQUNoQixJQUFJO1FBQ0EsTUFBTUMsS0FBSyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQyxJQUFJLENBQUNDLFlBQVksQ0FBQztRQUMzQ1YsU0FBUyxDQUFDTyxLQUFLLENBQUM7TUFDcEIsQ0FBQyxDQUFDLE9BQU9JLEtBQUssRUFBRTtRQUNaVixPQUFPLENBQUNVLEtBQUssQ0FBQztNQUNsQjtJQUNKLENBQUM7SUFDREMsT0FBTyxFQUFFWCxPQUFPO0lBQ2hCWSxPQUFPLEVBQUU7RUFDYixDQUFDLENBQUM7O0VBRUZYLE1BQU0sQ0FBQ1ksSUFBSSxDQUFDLEtBQUssRUFBRWhCLGFBQWEsQ0FBQztFQUNqQ0ksTUFBTSxDQUFDYSxJQUFJLEVBQUU7QUFDakIsQ0FBQzs7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsRUFBRWxCLFVBQVUsQ0FBQyxDQUFDIiwibmFtZXMiOlsiUE9TVFNfQVBJX1VSTCIsImZldGNoUG9zdHMiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwiY2xpZW50IiwiVGkiLCJOZXR3b3JrIiwiY3JlYXRlSFRUUENsaWVudCIsIm9ubG9hZCIsInBvc3RzIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0IiwiZXJyb3IiLCJvbmVycm9yIiwidGltZW91dCIsIm9wZW4iLCJzZW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL2FkaXRpc3VyeWF3YW5zaGkvdnNjb2RlL1VuaXF1ZSBTY2hvb2xzL1hMaXRlL1Jlc291cmNlcy9zZXJ2aWNlcyIsInNvdXJjZXMiOlsicG9zdFNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgUE9TVFNfQVBJX1VSTCA9ICdodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vcG9zdHMnO1xuXG5jb25zdCBmZXRjaFBvc3RzID0gKG9uU3VjY2Vzcywgb25FcnJvcikgPT4ge1xuICAgIGNvbnN0IGNsaWVudCA9IFRpLk5ldHdvcmsuY3JlYXRlSFRUUENsaWVudCh7XG4gICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3N0cyA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIG9uU3VjY2Vzcyhwb3N0cyk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbmVycm9yOiBvbkVycm9yLFxuICAgICAgICB0aW1lb3V0OiA1MDAwXG4gICAgfSk7XG5cbiAgICBjbGllbnQub3BlbignR0VUJywgUE9TVFNfQVBJX1VSTCk7XG4gICAgY2xpZW50LnNlbmQoKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0geyBmZXRjaFBvc3RzIH07XG4iXSwidmVyc2lvbiI6M30=
