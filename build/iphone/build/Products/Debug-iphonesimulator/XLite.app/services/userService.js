const fetchUsers = (count, onSuccess, onError) => {
  const client = Ti.Network.createHTTPClient({
    onload: function () {
      try {
        const users = JSON.parse(this.responseText).results.map((user) => ({
          username: user.login.username,
          avatar: user.picture.medium
        }));
        onSuccess(users);
      } catch (e) {
        onError(e);
      }
    },
    onerror: onError,
    timeout: 6000
  });
  client.open('GET', `https://randomuser.me/api/?results=${count}`);
  client.send();
};

module.exports = { fetchUsers };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsVUFBVSxHQUFHQSxDQUFDQyxLQUFLLEVBQUVDLFNBQVMsRUFBRUMsT0FBTyxLQUFLO0VBQzlDLE1BQU1DLE1BQU0sR0FBR0MsRUFBRSxDQUFDQyxPQUFPLENBQUNDLGdCQUFnQixDQUFDO0lBQ3ZDQyxNQUFNLEVBQUUsU0FBQUEsQ0FBQSxFQUFZO01BQ2hCLElBQUk7UUFDQSxNQUFNQyxLQUFLLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDLElBQUksQ0FBQ0MsWUFBWSxDQUFDLENBQUNDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQUFDLElBQUksTUFBSztVQUM3REMsUUFBUSxFQUFFRCxJQUFJLENBQUNFLEtBQUssQ0FBQ0QsUUFBUTtVQUM3QkUsTUFBTSxFQUFFSCxJQUFJLENBQUNJLE9BQU8sQ0FBQ0M7UUFDekIsQ0FBQyxDQUFDLENBQUM7UUFDSGxCLFNBQVMsQ0FBQ08sS0FBSyxDQUFDO01BQ3BCLENBQUMsQ0FBQyxPQUFPWSxDQUFDLEVBQUU7UUFDUmxCLE9BQU8sQ0FBQ2tCLENBQUMsQ0FBQztNQUNkO0lBQ0osQ0FBQztJQUNEQyxPQUFPLEVBQUVuQixPQUFPO0lBQ2hCb0IsT0FBTyxFQUFFO0VBQ2IsQ0FBQyxDQUFDO0VBQ0ZuQixNQUFNLENBQUNvQixJQUFJLENBQUMsS0FBSyxFQUFHLHNDQUFxQ3ZCLEtBQU0sRUFBQyxDQUFDO0VBQ2pFRyxNQUFNLENBQUNxQixJQUFJLEVBQUU7QUFDakIsQ0FBQzs7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsRUFBRTNCLFVBQVUsQ0FBQyxDQUFDIiwibmFtZXMiOlsiZmV0Y2hVc2VycyIsImNvdW50Iiwib25TdWNjZXNzIiwib25FcnJvciIsImNsaWVudCIsIlRpIiwiTmV0d29yayIsImNyZWF0ZUhUVFBDbGllbnQiLCJvbmxvYWQiLCJ1c2VycyIsIkpTT04iLCJwYXJzZSIsInJlc3BvbnNlVGV4dCIsInJlc3VsdHMiLCJtYXAiLCJ1c2VyIiwidXNlcm5hbWUiLCJsb2dpbiIsImF2YXRhciIsInBpY3R1cmUiLCJtZWRpdW0iLCJlIiwib25lcnJvciIsInRpbWVvdXQiLCJvcGVuIiwic2VuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9hZGl0aXN1cnlhd2Fuc2hpL3ZzY29kZS9VbmlxdWUgU2Nob29scy9YTGl0ZS9SZXNvdXJjZXMvc2VydmljZXMiLCJzb3VyY2VzIjpbInVzZXJTZXJ2aWNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZldGNoVXNlcnMgPSAoY291bnQsIG9uU3VjY2Vzcywgb25FcnJvcikgPT4ge1xuICAgIGNvbnN0IGNsaWVudCA9IFRpLk5ldHdvcmsuY3JlYXRlSFRUUENsaWVudCh7XG4gICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VycyA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpLnJlc3VsdHMubWFwKHVzZXIgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIubG9naW4udXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGF2YXRhcjogdXNlci5waWN0dXJlLm1lZGl1bVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3ModXNlcnMpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIG9uRXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uZXJyb3I6IG9uRXJyb3IsXG4gICAgICAgIHRpbWVvdXQ6IDYwMDBcbiAgICB9KTtcbiAgICBjbGllbnQub3BlbignR0VUJywgYGh0dHBzOi8vcmFuZG9tdXNlci5tZS9hcGkvP3Jlc3VsdHM9JHtjb3VudH1gKTtcbiAgICBjbGllbnQuc2VuZCgpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7IGZldGNoVXNlcnMgfTtcbiJdLCJ2ZXJzaW9uIjozfQ==
